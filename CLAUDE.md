# Claude Code 開発ガイド

## プロジェクト概要
詳細は [README.md](./README.md) を参照してください。

## 開発ワークフロー
### 新機能
新機能開発は以下のステップで行います：

1. **ドキュメント参照**
    - シーケンス図や関連ドキュメントを確認
    - 要件を明確に理解する

2. **関連ファイルの探索**
    - 既存コードベースから関連するファイルを特定
    - 影響範囲を把握する

3. **実装計画の策定**
    - 実装アプローチを決定
    - 必要な変更点をリストアップ
    - 依存関係を明確にする

4. **計画の妥当性確認**
    - 実装計画をユーザーに提示
    - フィードバックを受けて計画を調整

5. **テストコード実装**
    - テスト駆動開発（TDD）の原則に従う
    - ユニットテスト、統合テストを作成

6. **テストケース確認**
    - **ユーザーがテストケースの妥当性を確認**
    - テストケースが要件を網羅しているか確認
    - エッジケースが考慮されているか確認

7. **機能実装**
    - テストが通るように実装を進める
    - コーディング規約に従う
    - 適宜リファクタリングを行う

8. **実装品質確認**
    - **ユーザーが実装の品質を確認**
    - コードの可読性、保守性を評価
    - パフォーマンスや拡張性を確認

9. **コミット & プッシュ**
    - ghコマンドを使用してコミット
    - コミットメッセージは規約に従う
    - プッシュしてPRを作成

### 不具合
不具合修正は以下のステップで行います：

1. **原因の特定**
    - プロンプトで伝えられた不具合情報を分析
    - デバッグ情報から根本原因を推測

2. **関連ファイルの探索**
    - 不具合に関連するコードを特定
    - 影響範囲を把握する

3. **実装計画の策定**
    - 修正アプローチを決定
    - 必要な変更点をリストアップ
    - 副作用のリスクを評価

4. **計画の妥当性確認**
    - 修正計画をユーザーに提示
    - フィードバックを受けて計画を調整

5. **コード実装**
    - 最小限の変更で不具合を修正
    - コーディング規約に従う
    - 既存のテストが通ることを確認

6. **実装品質確認**
    - **ユーザーによる実装の品質確認**
    - 修正が要件を満たしているか確認

7. **コミット & プッシュ**
    - 修正内容を明確に記述したコミットメッセージ
    - `fix:` プレフィックスを使用
    - プッシュしてPRを作成

## Claude Code 固有の指示

### コミット規約
- `.gitmessage` テンプレートを必ず使用
- Conventional Commits形式を厳守
- 1コミット1機能の原則

### コーディング規約
**フロントエンド**
- ESLint + Prettier設定に従う
- TypeScript厳格モードを使用
- 型定義はtypeで行う

**バックエンド**
- [styleguide](https://google.github.io/styleguide/go/guide)に従う


### 自動化コマンド
```bash
# PR作成
gh pr create --title "$(git log -1 --pretty=%s)" --body "詳細は commit message を参照"

# PR確認
gh pr view --web

# レビュー対応後のマージ
gh pr merge --squash --delete-branch
```

### 禁止事項
- main ブランチへの直接コミット
- テストなしでのPR作成
- Breaking Change の事前相談なし実施
- テストコードのレビューなしで実装

### レビューコメント対応
レビューコメントを受けた場合：
1. 同一ブランチで修正実施
2. 修正内容を明確にコミットメッセージに記載
3. `git push` で自動的にPRに反映
4. レビュアーに修正完了を通知
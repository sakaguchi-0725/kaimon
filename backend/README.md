# Kaimon バックエンド

## 概要

Kaimonは買い物リスト管理アプリケーションのバックエンドAPIです。クリーンアーキテクチャを採用し、Go言語で実装されています。

## 技術スタック

### 言語・フレームワーク
- **言語**: Go 1.24.2
- **Webフレームワーク**: Echo v4.13.4
- **ORM**: GORM v1.30.0

### データベース
- **メインDB**: PostgreSQL
- **キャッシュ**: Redis

### 認証
- Firebase Authentication

### その他のライブラリ
- sql-migrate: データベースマイグレーション
- testify: テストフレームワーク
- uuid: UUID生成

## アーキテクチャ
### レイヤー構成

**プレゼンテーション層** (`presentation/`)
   - HTTPリクエスト/レスポンスの処理
   - ルーティング
   - ミドルウェア
   - バリデーション

**ユースケース層** (`usecase/`)
   - アプリケーションのビジネスロジック

**ドメイン層** (`domain/`)
   - ドメインモデルの定義
   - ドメインロジック
   - リポジトリインターフェース

**インフラストラクチャ層** (`infra/`)
   - データベース実装
   - 外部サービス連携
   - リポジトリ実装

### 依存性注入

`registry/` パッケージを使用して依存性を注入し、各レイヤー間の結合度を低く保っています。

## プロジェクト構造

```
backend/
├── cmd/                # エントリーポイント
│   └── api/            # APIサーバー
├── core/               # コア機能（設定、ロギングなど）
├── domain/             # ドメインモデルとリポジトリインターフェース
│   ├── model/          # ドメインモデル
│   └── repository/     # リポジトリインターフェース
├── infra/              # インフラストラクチャ実装
│   ├── db/             # データベース接続
│   ├── dto/            # データ転送オブジェクト
│   ├── firebase/       # Firebase連携
│   └── persistence/    # リポジトリ実装
├── migrations/         # データベースマイグレーションファイル
├── presentation/       # プレゼンテーション層
│   ├── handler/        # HTTPハンドラー
│   ├── middleware/     # ミドルウェア
│   └── server/         # サーバー設定
├── registry/           # 依存性注入
├── test/               # テスト用モック
│   └── mock/           
└── usecase/            # ユースケース実装
```